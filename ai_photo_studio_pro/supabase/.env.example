# Supabase Edge Functions Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================================================
# REPLICATE API
# ============================================================================
# Get your API key from: https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN=r8_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# REMOVE.BG API (for background removal)
# ============================================================================
# Get your API key from: https://www.remove.bg/api
# Free tier: 50 images/month
# Pro tier: Starting at $9/month for 500 images
REMOVE_BG_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# SUPABASE (automatically provided in Edge Functions)
# ============================================================================
# These are automatically available in Supabase Edge Functions:
# - SUPABASE_URL
# - SUPABASE_ANON_KEY
# - SUPABASE_SERVICE_ROLE_KEY

# ============================================================================
# MODEL VERSIONS (Replicate Model IDs)
# ============================================================================
# FLUX.1 Schnell - Fast AI image generation
FLUX_MODEL_VERSION=black-forest-labs/flux-schnell

# Real-ESRGAN - 4K upscaling
REAL_ESRGAN_MODEL_VERSION=nightmareai/real-esrgan:42fed1c4974146d4d2414e2be2c5277c7fcf05fcc3a73abf41610695738c1d7b

# Background Removal - AI-powered background removal
BACKGROUND_REMOVAL_MODEL_VERSION=lucataco/remove-bg:95fcc2a26d3899cd6c2691c900465aaeff466285a65c14638cc5f36f34befaf1

# AI Outfit Change - Virtual try-on
OUTFIT_CHANGE_MODEL_VERSION=your-model-version-here

# Image Expansion - Outpainting
IMAGE_EXPANSION_MODEL_VERSION=your-model-version-here

# ============================================================================
# COST OPTIMIZATION
# ============================================================================
# Enable caching for expensive operations (true/false)
ENABLE_RESULT_CACHING=true

# Cache TTL in seconds (default: 7 days)
CACHE_TTL_SECONDS=604800

# Maximum concurrent API requests (rate limiting)
MAX_CONCURRENT_REQUESTS=5

# Request timeout in seconds
REQUEST_TIMEOUT_SECONDS=120

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# Enable error tracking
ENABLE_ERROR_TRACKING=true

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable specific features for gradual rollout
FEATURE_AI_RETOUCH_ENABLED=true
FEATURE_BACKGROUND_REMOVAL_ENABLED=true
FEATURE_OUTFIT_CHANGE_ENABLED=true
FEATURE_IMAGE_EXPANSION_ENABLED=true
FEATURE_4K_UPSCALING_ENABLED=true
FEATURE_BATCH_GENERATION_ENABLED=true

# ============================================================================
# RATE LIMITING (per user)
# ============================================================================
# Free tier limits
FREE_TIER_DAILY_LIMIT=3
FREE_TIER_MONTHLY_LIMIT=90

# Pro tier limits
PRO_TIER_DAILY_LIMIT=100
PRO_TIER_MONTHLY_LIMIT=3000

# Enterprise tier limits
ENTERPRISE_TIER_DAILY_LIMIT=1000
ENTERPRISE_TIER_MONTHLY_LIMIT=30000

# ============================================================================
# STORAGE CONFIGURATION
# ============================================================================
# Maximum file size in MB
MAX_UPLOAD_SIZE_MB=10

# Allowed image formats (comma-separated)
ALLOWED_IMAGE_FORMATS=jpg,jpeg,png,webp

# Image quality for compressed outputs (1-100)
OUTPUT_IMAGE_QUALITY=90

# ============================================================================
# WEBHOOK CONFIGURATION (optional)
# ============================================================================
# Webhook URL for batch job completion notifications
WEBHOOK_URL=

# Webhook secret for signature verification
WEBHOOK_SECRET=
